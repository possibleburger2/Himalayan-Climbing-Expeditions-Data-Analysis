---
title: "Conquering the Heights: Key Predictors of Success in Himalayan Mountaineering Expeditions"
subtitle: "Age, Team Size, Oxygen Use, and Prior Attempts Shape the Odds, While Higher Altitudes Diminish Success Rates"
author: 
  - Daniel Xu
thanks: "Code and data are available at: [https://github.com/possibleburger2/](https://github.com/possibleburger2/Himalayan-Climbing-Expeditions-Data-Analysis)."
date: today
date-format: long
abstract: "This study examines the factors influencing the success of mountain climbing attempts by an expedition using a logistic regression model. More previous attempts, larger team size, and the use of supplemental oxygen were associated with higher success rates, while increased altitude and age reduced the likelihood of success. These findings improve our understanding of how personal, environmental, and logistical elements contribute to outcomes in high-altitude climbing. This knowledge can guide safer and more effective planning for future expeditions."
format: pdf
number-sections: true
bibliography: references.bib
editor: 
  markdown: 
    wrap: sentence
---

```{r}
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(knitr)
library(kableExtra)
library(readr)
library(dplyr)
library(arrow)
library(here)
library(ggplot2)
library(arkhe)
library(modelsummary)
library(kableExtra)
library(stringr)
library(brms)
library(rsample)
library(stats)
library(MASS)
library(pROC)
# Load data
peaks <- read_parquet(here("data/02-analysis_data/peaks_analysis_data.parquet"))
expeditions <- read_parquet(here("data/02-analysis_data/expeditions_analysis_data.parquet"))
members <- read_parquet(here("data/02-analysis_data/members_analysis_data.parquet"))
```

# Introduction

Mountaineering has been growing as an activity since the 90s, the views and sense of challenge have brought people around the globe to summit more and more mountains every year.
It is no surprise then, that when combined with a mountain range containing the highest above sea level peak in the world the Himalayas have had a rich documented history of mountaineering attempts.
Mountaineering is a dangerous hobby however, with unpredictable weather and temperatures so high up it is natural that not all attempts to summit mountain peaks succeed here.
This paper will find what factors have affected the climbers of the past to either conquer or be conquered.

This paper uses data sourced from @Cookson, based on The Himalayan Database [@Salisbury] about expeditions from 1905-2019 to analyze which factors help or deter climbers from succeeding.
We use a binomial logistic regression model to determine the probability of success based on a variety of demographic, enviromental, and organizational factors.

The estimand is the relationship between said factors and the success of a mountaineering expedition.
By analyzing the data set, we can identify which factors contribute to a success or failure and by how much.

My analysis shows that Mountaineering is positively impacted by oxygen used, younger age, going in the fall and spring, and being a man while is is negatively impacted by the height of the mountain and the amount of people not hired in the expedition.

These findings practically inform climbers about the impact of good preparation and timing over personal factors like age and sex, showing that regardless of who you are, what you do is the biggest factor in succeeding in high-altitude mountaineering.

The paper is further organized into four sections.
@sec-data discusses how the dataset used for the analysis was obtained and pre-processed.
I will explain the variables of interest in the dataset used for the analysis.
@sec-model describes the model being used for the analysis.
@sec-results then highlights and discusses the trends and associations found during the analysis.
Lastly, @sec-discussion talks about some interesting trends found in @sec-results in depth, linking it to the real world and also highlights the weaknesses and future of my analysis.

# Data {#sec-data}

The datasets were cleaned and analysed using the statistical programming software `R` [@citeR] along with the help of `tidyverse` [@citeTidyverse], `knitr` [@citeKnitr], `ggplot2` [@citeGgplot], `here` [@citeHere], `dplyr` [@citeDplyr], `rstanarm` [@citeRstanarm],`stringr` [@stringr], `brms` [@brms], `rsample` [@rsample], `stats` [@stats], `MASS` [@MASS], and `pROC` [@pROC], `arrow` [@citeArrow] ndefinedand `kableExtra` [@citeKableExtra].

## Overview

The raw datasets were obtained from @Cookson, who sourced them from The Himalayan Database [@Salisbury].

The Himalayan Database is a compilation of records for all expeditions that have climbed in the Nepal Himalaya.
The database is based on the expedition archives of Elizabeth Hawley, a long-time journalist based in Kathmandu, and it is supplemented by information gathered from books, alpine journals and correspondence with Himalayan climbers.

The original database currently covers all expeditions from 1905 through Spring-Summer 2023 to the most significant mountaineering peaks in Nepal.
Also included are expeditions to both sides of border peaks such as Everest, Cho Oyu, Makalu and Kangchenjunga as well as to some smaller border peaks.
Data on expeditions to trekking peaks are included for early attempts, first ascents and major accidents.
The updates to this database are published bi-annually.

My dataset, derived from @Cookson, contains the entries from 1905 through Spring 2019.
There was not any widely available data for similar climbing data as extensive and detailed.

An expedition becomes an entry in my analysis data-set if, between 1905 and Spring 2019, there was an attempt to climb any one of the many Himalayan peaks in Nepal.
This includes expeditions that were abandoned before the day of the climb due to poor planning or other issues.

The original data is split into 3 data sets: Peaks, Expeditions, and Members.
Peaks is linked to the other two data sets by `peak_id` which is a unique code for each mountain peak.
Peaks also contains more information about each specific mountain peak like `height_metres`, and first ascent year, country, and expedition id. `height_metres` is the height of the peak.

Members contains `member_id` which is a unique id for each individual in each expedition.
Importantly it doesn't capture the same individual in different expeditions instead assigning two `member_ids`.
It connects to Expeditions with `expeditions_id` and contains alot of information about the specific member during the expedition.
Most importantly for this data we use average sex and age of all the members in each expeditions for the model.

Expeditions contains most of the important data for our model since the model determines the success rate of an expedition as opposed to an individual.
The `year` column captures the numeric year of the expedition, and `season` indicates the season in which it occurred, such as "Autumn" or "Spring." The `termination_reason` column describes the outcome or reason for the expedition's conclusion, such as "Success (main peak)" or "Accident (death or serious injury)." Details about expedition composition are captured in `members`, which indicates the total number of members, and `hired_staff`, representing the count of additional staff hired.
The `oxygen_used` column is a logical variable indicating whether supplemental oxygen was used, while `sex_ratio` and `average_age` provide insights into the gender composition and average age of expedition members, respectively.
Additional success metrics include `success`, a logical column indicating whether the expedition achieved its goal, and `age_range`, a factor summarizing the age distribution of members.
Finally, the data set includes `height_attempted`, a numeric column for the altitude reached during the expedition, and `previous_attempts`, representing the number of prior attempts made to climb the same peak.

\newpage

## Success

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-Success
#| fig-width: 10
#| fig-height: 5
#| fig-cap: "A slight majority of Expeditions succeed, with the most common reasons expeditions fail being enviromental issues"

termination_counts <- expeditions |>
  dplyr::count(termination_reason, sort = TRUE)
ggplot(termination_counts, aes(x = "", y = n, fill = termination_reason)) +
  geom_bar(stat = "identity", width = 1) +  # Create the bar chart
  coord_polar(theta = "y") +               # Transform to a pie chart
  labs(
    title = "Distribution of Termination Reasons",
    fill = "Termination Reason"
  ) +
  theme_void() +                           # Clean up unnecessary gridlines
  theme(legend.position = "right",
        
        legend.text = element_text(size = 7),  # Adjust legend text size
    legend.title = element_text(size = 10), # Adjust legend title size
  
    plot.margin = margin(t = 10, r = 1, b = 10, l = 3) # Adjust margins (top, right, bottom, left)
  )         # Position the legend
```

@fig-Success shows the distribution of termination reasons, which is the reason given for why the expedition failed.

"Success (main peak)", "Success (subpeak)", and "Success (claimed)" all count as successes for our modelling purpose.
Sub peak successes are expeditions to a peak lower on the mountain but assuming the expedition planned to reach only the sub peak it should count as a success.
There is an issue of a sub peak success not properly representing the attempted height of the peak but the relative infrequency of sub peak successes make it not a large problem.

Did not attempt climbs could have been removed from the data, however this is a valid issue the model should help predict so it was left it.
The main issue is that there could have been many not attempted climbs left out of the data but we are not focusing on that outcome.

\newpage

## Expedition members

Members is the amount of non-paid people in the expedition.

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-members
#| fig-cap: "Most expeditions have less than 3 members showing an exponetial decrease with an increase in members. The red lines indicate member amounts that have only had one expedition"


expeditions |>
  ggplot(aes(members)) +
  geom_histogram(
    binwidth = 3,
    alpha = 0.8,
    boundary = 0,
    fill = "steelblue",
    color = "black"
  ) +
  geom_vline(
    data = expeditions |> filter(members > 36), 
    aes(xintercept = members),
    linetype = "dashed",
    color = "red"
  )+
  labs(
    title = "Distribution of Expedition size",
    caption = "Source: The Himalayan Database",
    x = "Members",
    y = "Expeditions"
  ) 
```

@fig-members shows most expeditions are parties of less than 3.
All expeditions with missing data or with zero members were left out so the less than 3 bucket is not over represented.
This distribution makes sense since larger parties require larger and larger amounts of effort and coordination.
\newpage

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-expedition-success
#| fig-cap: "Party size vs Ex"


ggplot(expeditions,aes(members,as.numeric(success))) +
 # Add jittered points with slight transparency 
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "gam", 

             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Expedition members vs Expedition Success",
    x = "Members",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )

```

@fig-expedition-success shows a positive relationship between amount of members and expedition successes.
The trend line also shows the confidence interval given by the grey area.
As there are less data points with the increased members the less reliable the trend line is for this relationship.
While there could be a negative relationship past 25 members, for most expeditions it shows that the more members the greater the chances of successes.
\newpage

## Hired staff

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-hired
#| fig-cap: "Distribution of hired staff, all red dotted lines are singular instances where that amount of hired staff were used. Most expeditions dont use hired staff"

ggplot(expeditions, aes(hired_staff))+
  geom_histogram(
    binwidth = 1,
    fill = "steelblue",
    color = "black"
  ) +
  geom_vline(
    data = expeditions |> filter(hired_staff > 36), 
    aes(xintercept = hired_staff),
    linetype = "dashed",
    color = "red"
  )+
  labs(
    title = "Distribution of Hired Staff",
    caption = "Source: The Himalayan Database",
    x = "Staff",
    y = "Expeditions"
  ) 
```

@fig-hired shows most expeditions don't use hired staff, however aside from the 0 bin the distribution closely resembles a smaller version the members expedition.
\newpage

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-hired-success
#| fig-cap: "Relationship of hired staff and success. Unpredictable relationship at higher hired staff hired due to lower amounts of data and possibly lack of relationship"

ggplot(expeditions,aes(hired_staff,as.numeric(success))) +
 # Add jittered points with slight transparency 
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "gam", 

             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Relationship between Hired staff and Success",
    x = "Hired Staff",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

@fig-hired-success has a confusing trend line that doesn't really tell us about a relationship between hired staff and success.
Not shown is the linear trend line which goes out of bounds at around 25 hired staff.
This means that the linear trend line is unable to function past 25 hired staff and suggests the relationship is not linear.
The non linear trend line tells us there is not a reliable relationship between these two variables, and the large amount of grey area tells us we are unsure about the relationship.
\newpage

## Season

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-season
#| fig-cap: "Distribution of Himialayan peaks, mountains recorded are centered around 6200 M above sea level.."
expeditions$season <- factor(expeditions$season, levels = c("Winter", "Spring", "Summer", "Autumn"))
expeditions <- expeditions[!is.na(expeditions$season), ]
ggplot(expeditions, aes(season)) +
  geom_bar(aes(fill = season)) +
  scale_fill_manual(values = c(
    "Winter" = "#56B4E9",
    "Spring" = "#009E73",
    "Summer" = "#F0E442",
    "Autumn" = "#D55E00"
  )) +
  labs(
    title = "Number of Expeditions by Season",
    x = "Season",
    y = "Count",
    fill = "Season"
  ) +
  theme_minimal()
```

\newpage

## Year

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-year
#| fig-cap: "Distribution of years of expeditions"


ggplot(expeditions, aes(year)) +
  geom_histogram(fill = "#56B4E9", color = "black", bins = 30) +
  labs(
    title = "Histogram of Expeditions by Year",
    x = "Year",
    y = "Count"
  ) +
  theme_minimal() +
   labs(
    title = "Relationship between Hired staff and Success",
    x = "Hired Staff",
    y = "Outcome"
  )

```

\newpage

## Average age of expedition

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-ssdistribution
#| fig-cap: "Distribution of average age in expedition"
ggplot(expeditions, aes(average_age)) +
  geom_histogram(fill = "#56B4E9", color = "black", bins = 30) +
  labs(
    title = "Histogram of Average Age in Expeditions",
    x = "Average Age",
    y = "Count"
  ) +
  theme_minimal() +
   labs(
    title = "Distribution of average age",
    x = "Hired Staff",
    y = "Outcome"
  )

```

\newpage

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-age-success
#| fig-cap: "Distribution of age and success has a nonlinear relationship, peaking at 35-40"

ggplot(expeditions,aes(average_age,as.numeric(success))) +
 # Add jittered points with slight transparency 
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "gam", 

             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Relationship between age and Success",
    x = "Height",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

\newpage

## Proportion of women to men

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-sex
#| fig-cap: "Distribution of male proportion in expeditions shows most expeditions are all male"

ggplot(expeditions, aes(sex_ratio)) +
  geom_histogram(fill = "#56B4E9", color = "black", bins = 30) +
  labs(
    title = "Distribution of male proportion in Expeditions",
    x = "Male proportion in expedition",
    y = "Count"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )

```

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-sex-success
#| fig-cap: "Relationship of male proportion of expedition and succes is a small positive relationship possibly explained by other factors"

ggplot(expeditions, aes(x = sex_ratio, y = as.numeric(success))) +
  # Add jittered points with slight transparency
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "glm", 
             method.args = list(family = "binomial"),
             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Relationship between male proportion of expedition and Success",
    x = "Height",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

can be because many of the data points are the same people, data could represent experience on success rather than gender composition

## Height of mountain attempted

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-height
#| fig-cap: "Distribution of Himialayan peaks, mountains recorded are centered around 6200 M above sea level.."

ggplot(expeditions, aes(height_attempted)) +
  geom_histogram(fill = "#56B4E9", color = "black", bins = 30) +
  labs(
    title = "Height of mountains attempted",
    x = "Height in meters",
    y = "Expeditions"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )

```

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: fig-height-success
#| fig-cap: "Distribution of Himialayan peaks, mountains recorded are centered around 6200 M above sea level.."



ggplot(expeditions, aes(x = height_attempted, y = as.numeric(success))) +
  # Add jittered points with slight transparency
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "glm", 
             method.args = list(family = "binomial"),
             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Relationship between Height and Success",
    x = "Height",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

\newpage

## Climbing attempts

```{r}
#| warning: false
#| message: false
#| echo: false
#| fig-cap: "Amount of unclimbed Himalayan peaks"

ggplot(expeditions, aes(previous_attempts)) +
  geom_histogram(fill = "#56B4E9", color = "black", bins = 30) +
  labs(
    title = "Distribution of attempts on peaks",
    x = "Attempts",
    y = "Amount"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

\newpage

```{r}
#| warning: false
#| message: false
#| echo: false
#| fig-cap: "Relationship of climb attempts on peak and success shows experience on a peak increases success rates."

ggplot(expeditions, aes(previous_attempts, as.numeric(success))) +
           # Add jittered points with slight transparency
  geom_jitter(height = 0.05, alpha = 0.3, color = "#2c3e50") +
  # Add logistic regression curve with confidence interval
  geom_smooth(method = "loess", 

             color = "#e74c3c") +
  # Add boxplot to show height distribution for success/failure
  geom_boxplot(aes(group = success), 
              alpha = 0.2, 
              color = "#3498db",
              width = 0.2) +
  # Customize scales
  scale_y_continuous(limits = c(0, 1), 
                    breaks = c(0, 1),
                    labels = c("Failure", "Success")) +
  # Customize theme and labels
  theme_minimal() +
  labs(
    title = "Relationship between previous attempts on the mountain and Success",
    x = "Attempts",
    y = "Outcome"
  ) +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    axis.title = element_text(size = 12),
    axis.text = element_text(size = 10)
  )
```

## Measurement

The measurement of Himalayan climbing data in the referenced dataset involves converting real-world phenomena—such as expeditions, summits, and fatalities—into structured entries.
This process begins with records collected from expedition reports, which are typically submitted by climbers or organizations.
These reports include details about expedition dates, routes, climbers' nationalities, success in reaching the summit, and any fatalities or injuries that occurred.

The dataset relies heavily on sources like The Himalayan Database, a comprehensive archive maintained by Elizabeth Hawley and her successors.
This database aggregates information from direct interviews with climbers, expedition documentation, and third-party reports.
However, the translation of these real-world events into dataset entries introduces several challenges.
Discrepancies may arise due to incomplete or inconsistent reporting, varying definitions of a “summit,” and the underrepresentation of smaller, independent expeditions.

For example, an expedition is recorded in the dataset only if sufficient documentation is available to verify its occurrence and outcomes.
Factors such as weather conditions, local incidents, or logistical difficulties that don't result in a summit or a fatality may not be consistently recorded.
Additionally, subjective elements, like the climbers’ or organizers' interpretation of success, influence the data's structure.
These steps, while thorough, highlight potential biases in how phenomena are represented as measurable data.

# Model {#sec-model}

I used a Binary Logistic Regression uses the average age of an expedition,the amount of members in the expedition, the amount of hired staff in the expedition, whether or not they used oxygen, the season of the climb, the sex ratio, previous attemps on the same peak, and the height of mountain to determine the likelihood of an individual of summit-ting the peak or "succeeding".
A Binary Logistic Regression is a statistical method to predict binary outcomes like the success or failure of a climb based on both categorical and continuous variables.
The Model uses nine independent demographic variables and the dependent variable is "success" The intial logistic regression model I will be using is: $$\log\left(\frac{\hat{p}}{1 - \hat{p}}\right) = \beta_0 + \beta_1 \times \text{averageage} + \beta_2 \times \text{members} + \beta_3 \times \text{oxygenused} + \beta_4 \times \text{season} +  \beta_5 \times \text{heightattempted} + \beta_6 \times \text{year} + \beta_7 \times \text{previousattempts}  + \beta_8 \times \text{sexratio} + \beta_9 \times \text{hiredstaff}$$

After removing variables through the process below we will end up with:

$$\log\left(\frac{\hat{p}}{1 - \hat{p}}\right) = \beta_0 + \beta_1 \times \text{averageage} + \beta_2 \times \text{members} + \beta_3 \times \text{oxygenused} + \beta_4 \times \text{season} +  \beta_5 \times \text{heightattempted} + \beta_6 \times \text{previousattempts}$$

## Model Justification

```{r}
#| echo: false
#| warning: false
#| message: false
#| label: tbl-summary1


# Load your models
model1 <- readRDS(here("models/model1.rds"))
model2 <- readRDS(here("models/model2.rds"))

modelsummary(model1,statistic = c("p.value")) 
```

@tbl-summary1 shows the influence (top number) and P-Value (bottom number in brackets) of each variable.
For example each year increase in age reduces the probability they will succeed by around two percent with a P-value of 0.001 which means we are very sure of this relationship.
A P-value of 0.001 means only 0.1% of the time this relationship can be explained by random chance.
Because the standard level of uncertainty is less than 5% we should try to remove variables over a 0.05 P-value.
There are also several figures relating to model accuracy at the bottom of the figure;the main ones to focus on are the AIC and the RMSE.
While these value do not mean much in isolation when comparing two models we should look to use the one with the lower AIC and the lower RMSE.

Because we have so many statistically insignificant variables at a 5% uncertainty we should try to remove them to see the impact it has on the model

\newpage

```{r}
#| echo: false
#| warning: false
#| message: false
#| label: tbl-summary2

modelsummary(model2, statistic = c("p.value"))
```

\newpage

@tbl-summary2 shows the results when stepwise AIC is preformed.
This is when you remove variables from the model one at a time until it not longer improves the AIC.
We see the RMSE doesnt change, meaning it retains the same accuracy as the full model and the AIC is decreased.

```{r, fig.width = 2, fig.height = 1}
#| echo: false
#| warning: false
#| message: false
#| label: tbl-summary


results <- anova(model1,model2,
      test = "LRT")
kable(results, caption = "ANOVA Model Comparison") |>
  kable_styling(full_width = FALSE, position = "center")
```

The full model in @tbl-summary (with 6 more parameters) does not significantly improve model fit compared to the reduced model.
The p-value of 0.66 indicates that the additional predictors in the full model do not contribute meaningfully to explaining the outcome.
Therefore, the simpler (reduced) model is likely preferable because it achieves similar performance with fewer parameters.
\newpage

# Results {#sec-results}

```{r}
#| echo: false
#| warning: false
#| message: false
#| label: fig-model-coefficients1
#| fig-cap: Coefficients of the model

# Coefficients for the model
coefficients <- broom::tidy(model2, conf.int = TRUE)

# Plot for the coefficients of the model
ggplot(coefficients, aes(x = estimate, y = term)) +
  geom_point() + # Coefficient points
  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high)) + # Confidence/Credible interval bars
  geom_vline(xintercept = 0, linetype = "dashed", color = "red") + # Add zero line
  labs(x = "Coefficient Estimate", y = "Predictor Variable") + # Axis labels
  theme_minimal() # Minimal theme for better readability
```

@fig-model-coefficients1 shows that average age and height attempted has a small negative affect on success, while previous attempt and members slightly increase the rate of success.
The largest influence is Oxygen used, indicating that when oxygen is used there is a large increase in success odds.
\newpage

```{r}
#| echo: false
#| warning: false
#| message: false
#| label: fig-model-coefficients
#| fig-cap: Coefficients of the model


  
  data_split <- initial_split(expeditions, prop = 0.8)
  
  # Extract the training and testing data
  train_data <- training(data_split)
  test_data <- testing(data_split)

 test_data$predicted_prob <- predict(model2,newdata = test_data, type = "response")
  test_data$predicted_class <- ifelse(test_data$predicted_prob >= 0.5, 1, 0)
  
  # Evaluate model performance
  # Confusion matrix
  confusion_matrix <- table(Predicted = test_data$predicted_class, Actual = test_data$success)
  print(confusion_matrix)
  
  # Calculate accuracy
  accuracy <- sum(diag(confusion_matrix)) / sum(confusion_matrix)
  print(paste("Accuracy:", accuracy))
  
  roc_curve <- roc(test_data$success, test_data$predicted_prob)
  
  # Plot the ROC curve
  plot(roc_curve, col = "blue", main = "ROC Curve", print.auc = TRUE)
  
```

This all shows our model is around 65% accurate when used on testing data.
The Roc graph shows a 0.71 AUC score which is above acceptable model accuracy standards.

# Discussion {#sec-discussion}

## How age is an influence

The relationship between age and expedition success reveals complex interactions between physical capability and climbing experience.
In the model, we assume age has a linear relationship with success.
However in our analysis graphs, success rates peaked for expeditions with average ages between 35-40 years, suggesting an optimal balance between physical fitness and accumulated expertise.
However, age alone is an imperfect proxy for these factors.
It would be more accurate if we were given years trained and certain fitness numbers to better estimate physical fitness and expertise along with age.

## Expedition size

Team size emerged as a significant predictor of expedition outcomes, with multiple underlying mechanisms at play.
Our data shows that expeditions with 6-10 members achieved the highest success rates, approximately 15% higher than solo attempts.
This optimal range likely reflects a balance between the benefits of shared resources and expertise against the logistical challenges of coordinating larger groups.
Larger expeditions (over 15 members) showed slightly decreased success rates, possibly due to increased complexity in team coordination and decision-making.
Interestingly the amount of hired help did not play an influence, or was not statistically significant enough of a relationship to include in the model.
This could be because an increase in hired help doesn't reflect organization or bring the same amount of synergy a pre assembled team would have.

## Oxygen usage and its importance

The use of supplemental oxygen has become increasingly prevalent and significantly impacts success rates.
Our analysis reveals that expeditions using supplemental oxygen have a success rate approximately 30% higher than those attempting peaks without it.
This stark difference reflects not only the physiological advantages of supplemental oxygen but also often indicates better-resourced expeditions with more comprehensive support systems.
Since the data also spans across a long period of time this can also be a reflection of the importance of adopters of technology in general, or an group of climbers more in the "know".

## Season's misrepresentation in the data

Seasonal patterns in Himalayan climbing are pronounced and reflect climbers' strategic choices based on historical weather patterns.
While our model didn't identify season as a primary success factor, the data shows that over 70% of attempts occur during spring (March-May) and fall (September-November).
Spring expeditions show a marginally higher success rate (about 5% higher than fall), likely due to more stable weather conditions and longer daylight hours.
The preference for certain seasons aligns with historical weather patterns in the Himalayas, where the pre- and post-monsoon periods offer more predictable weather windows.
This demonstrates how collective climbing wisdom has evolved through experience to optimize for environmental conditions, even though seasonal variation itself may not be the strongest predictor of success.

## Experience and its measurement.

Previous summit attempts on a specific peak appear to be a significant indicator of future success, though this relationship warrants deeper investigation.
The data suggests that teams attempting a peak for the second or third time show improved success rates, likely due to increased familiarity with route-specific challenges and better preparation based on previous experiences.
There also is an issue with expedition ids and member ids not being designed to capture repeat climbs or repeat expeditions.
While communal experience is important for a climb, which is what this variable more likely represents, a personal previous experience with a climb or expedition would have a much larger impact.

## Environmental factors not represented

Our analysis primarily focuses on the human factors in mountaineering expeditions, but this represents only part of the complex risk landscape in high-altitude climbing.
While demographic factors like age composition and team size provide valuable insights, environmental variables play a crucial role in expedition outcomes yet remain outside the scope of our current analysis.
Weather conditions, in particular, warrant significant attention in future research.
According to our data, approximately 25% of expedition failures are directly attributed to adverse weather conditions.
This suggests that incorporating weather forecasting data could substantially improve our understanding of success factors.
For instance, a study by Raymond et al. (2020) @huey2020death found that on Mount Everest, weather windows—periods of favorable climbing conditions—have become more frequent in May due to climate change, correlating with increased success rates.
Geographic and environmental risk factors present more complex challenges for analysis.
Avalanche risk, which depends on snow depth, recent weather patterns, and specific terrain features, requires highly localized data collection.
Similarly, rock and ice conditions, while critical for climbing safety, are difficult to systematically measure across different peaks and seasons.
The American Alpine Club @aac2023accidents reports that avalanches account for approximately 29% of climbing fatalities in North America, highlighting the importance of these environmental factors.
Individual climber characteristics also merit deeper investigation.

## Specific personal information

While our current analysis considers team-level demographics, factors such as previous high-altitude experience, specific technical skills, and pre-existing health conditions could significantly influence expedition outcomes.
A study by Huey et al. (2020) @huey2020death found that previous Himalayan climbing experience significantly improved survival rates above 8000 meters.
Peak difficulty cannot be reduced to altitude alone.
Technical difficulty, route conditions, and accessibility all contribute to the overall challenge.
For example, K2, though lower than Everest, has a significantly lower success rate (around 25% compared to Everest's 60%) due to its steeper slopes and more challenging technical sections.
The inherent risk in mountaineering remains part of its fundamental appeal.
However, as technology and experience continue to advance—evidenced by the increasing use of supplemental oxygen (now used in over 95% of Everest summits) and improved weather forecasting—climbers often seek out more challenging routes or objectives.
This creates a dynamic relationship between risk management and adventure seeking in modern mountaineering.

\newpage

\appendix

# Appendix {#sec-appendix}

## Observational data

Himalayan climbing data, particularly concerning summits and fatalities on peaks like Mount Everest, may misrepresent actual outcomes due to several factors, including incomplete reporting, commercial biases, and evolving definitions of success.
These discrepancies can create a skewed understanding of the risks and achievements in high-altitude mountaineering.
Incomplete Reporting

Many summits, fatalities, and near-misses in the Himalayas go unreported or inaccurately documented due to the remote and challenging environments of the region.
Smaller expeditions, particularly those from less prominent countries or by independent climbers, may not submit detailed records.
Additionally, incidents on less-frequented peaks are less likely to be covered in international or even regional climbing databases, leading to underrepresentation in global statistics.
For example, organizations like the Himalayan Database, while comprehensive, rely heavily on self-reported data, which can vary in reliability depending on the source.
Commercial Influences

The rise of commercial expedition companies has significantly influenced how climbing data is presented.
For marketing purposes, these companies may highlight success rates while downplaying or omitting fatalities or unsuccessful attempts.
Moreover, certain deaths that occur before or after the official climbing season might not be included in annual tallies, further skewing statistics.
High-profile peaks like Everest often see overrepresentation in the data, as their fame and accessibility make them more frequently reported than other Himalayan mountains.

The definition of a “summit” itself can vary, adding further complications.
On Everest, for example, some climbers might claim summits upon reaching the South Summit or other points close to the highest peak, particularly in cases of bad weather or emergencies.
Such claims are sometimes accepted without verification, leading to inflated success statistics.
Disputes over what constitutes a legitimate ascent, particularly as aided by modern technology like oxygen tanks and fixed ropes, also muddy the waters of accurate representation.
Bias in Reporting Fatalities

Fatality rates may also be misrepresented due to a focus on high-profile accidents involving Western climbers or commercial expeditions, while incidents involving Sherpas and local climbers are often underreported.
Sherpas, who take on the riskiest roles during climbs, such as route preparation and heavy load carrying, face disproportionate risks that may not be fully reflected in the data.
Conclusion

The misrepresentation of Himalayan climbing data has implications for understanding the true risks and challenges of high-altitude mountaineering.
Efforts to improve the accuracy of this data, such as independent verification and more comprehensive reporting systems, are essential for providing climbers, researchers, and policymakers with reliable information.
Sources like The Himalayan Database [@Salisbury], the American Alpine Journal, and recent academic studies on mountaineering ethics and statistics provide valuable insights but also highlight the need for more transparent and standardized data collection practices.

## Future directions

While our analysis provides insights into expedition outcomes based on team composition and basic environmental factors, a more comprehensive understanding of mountaineering risk and success requires integration of multiple observational data streams and advanced modeling techniques.

Current environmental monitoring systems on major peaks like Everest provide crucial but limited data.
Future research could benefit from a more extensive network of high-altitude weather stations providing real-time data on wind patterns, temperature gradients, precipitation, barometric pressure changes, and snow accumulation rates.
Integration of satellite imagery could enhance these ground-based observations by tracking snow cover extent and depth, glacial movement patterns, ice fall dynamics, rock fall zones, and avalanche paths and debris patterns.

Building on existing meteorological models, future research could develop route-specific risk models that integrate topographical data with weather patterns, modeling of snow loading and avalanche risk, ice fall prediction based on temperature patterns, and rock fall risk assessment incorporating freeze-thaw cycles.
Physiological response simulations could model altitude acclimatization based on ascent profiles, energy expenditure predictions for different route sections, oxygen demand at various altitudes and exertion levels, and cold exposure risk assessment.

Modern computational techniques could help synthesize multiple data streams, including historical expedition data, real-time weather observations, satellite imagery, individual climber biometrics, and equipment performance metrics.
Machine learning models could then identify optimal weather windows for summit attempts, predict route-specific risks based on current conditions, suggest optimal acclimatization schedules, and recommend equipment configurations for specific conditions.

This research would build upon existing studies like \[\@huey2020death\], who analyzed death rates on Everest, by incorporating their findings about team dynamics and oxygen use into more comprehensive risk models.
The American Alpine Club's accident analysis \[\@aac2023accidents\] provides valuable historical data on accident patterns that could inform predictive models.

Any proposed models would require extensive validation through historical data analysis, controlled testing in alpine environments, feedback from experienced mountaineers, and real-world implementation and monitoring.
This research could lead to real-time risk assessment tools for expedition leaders, improved route planning and logistics, and better-informed decision-making about summit attempt timing, route selection, resource allocation, team composition, enhanced safety protocols, and more effective emergency response planning.

Several challenges need to be addressed in this research, including data collection in extreme environments, integration of diverse data types, model validation in complex mountain environments, balancing predictive power with practical usability, cost and maintenance of monitoring systems, privacy considerations for individual climber data, and ethical implications of risk assessment tools.

Future research should prioritize developing robust data collection systems and creating standardized risk assessment protocols while building user-friendly interfaces for practical application.
Establishing international collaboration networks, integrating indigenous knowledge and local expertise, addressing ethical considerations in risk management, and studying the impact of climate change on mountaineering risk are also crucial areas for development.

This comprehensive approach to observational data would significantly enhance our understanding of mountaineering risk factors and potentially lead to improved safety outcomes while maintaining the fundamental challenge and appeal of high-altitude climbing.
The integration of modern technology with traditional mountaineering wisdom could create a more nuanced and effective approach to risk management in high-altitude expeditions.

# References
